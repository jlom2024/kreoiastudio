<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- SEO Note: Título más descriptivo para resultados de búsqueda -->
  <title>KREO IA Studio – Creatividad Humano-IA para Proyectos Innovadores</title>
  <meta name="description" content="Estudio creativo que fusiona inteligencia artificial y talento humano para proyectos innovadores.">
  <!-- SEO Note: Meta keywords eliminada (obsoleta para motores de búsqueda) -->
  <meta name="author" content="Jorge Luis Ordoñez M.">

  <!-- SEO Note: Open Graph (OG) tags optimizados -->
  <meta property="og:title" content="KREO IA Studio – Creatividad Humano-IA">
  <meta property="og:description" content="Proyectos creativos únicos fruto de la colaboración entre inteligencia artificial y talento humano.">
  <meta property="og:image" content="https://kreoiastudio.netlify.app/images/representacion-burbuja.png">
  <!-- SEO/Perf Note: Especificar dimensiones de la imagen OG ayuda a las plataformas a renderizarla más rápido -->
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:url" content="https://kreoiastudio.netlify.app/">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="es_ES">
  <meta property="og:site_name" content="KREO IA Studio">

  <!-- SEO Note: Añadidas Twitter Card tags para mejor compartición en Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="KREO IA Studio – Creatividad Humano-IA">
  <meta name="twitter:description" content="Proyectos creativos únicos fruto de la colaboración entre inteligencia artificial y talento humano.">
  <meta name="twitter:image" content="https://kreoiastudio.netlify.app/images/representacion-burbuja.png">
  <!-- Considerar añadir twitter:site si tienes una cuenta específica -->

  <link rel="icon" type="image/png" href="favicon.png">

  <!-- Perf Note: Preconnect para dominios de fuentes externas (si usaras Google Fonts, etc.) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Perf Note: Carga de fuente web (ej. Open Sans) con display:swap para evitar FOIT -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
  <!-- Perf Note: Podrías usar <link rel="preload"> para fuentes críticas -->

  <style>
    /* Perf Note: Considerar minificar este CSS en producción */
    /* Visual Note: Usando Open Sans como fuente principal más moderna que Arial */
    body { margin: 0; font-family: 'Open Sans', Arial, sans-serif; background: #000; color: #fff; scroll-behavior: smooth; line-height: 1.6; }

    /* Accesibility Note: Clase para ocultar visualmente pero mantener para lectores de pantalla */
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border-width: 0; }

    header {
      text-align: center;
      padding: 100px 20px; /* Visual Note: Padding ajustado en media query para móviles */
      position: relative;
      overflow: hidden;
      min-height: 70vh; /* Visual Note: Altura mínima para asegurar espacio */
      display: flex; flex-direction: column; justify-content: center; align-items: center;
    }
    header::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
      /* Perf Note: Asegúrate que 'fondo-soñado.jpg' esté optimizado (WebP/AVIF idealmente) */
      background: url('images/fondo-soñado.jpg') center center / cover no-repeat;
      z-index: -1; transition: transform 0.1s linear;
      /* Perf Note: transform se acelera por GPU, bien para animaciones. Considerar desactivar en móviles si hay problemas */
      transform: perspective(1000px) rotateX(var(--header-tilt-x, 0deg)) rotateY(var(--header-tilt-y, 0deg));
      will-change: transform;
    }
    /* SEO/Visual Note: H1 ahora contiene logo Y texto. Estilizado para mantener el foco en el logo */
    header h1 {
        font-size: 1.5rem; /* Ajusta según necesidad */
        line-height: 1.2;
        margin-bottom: 1em;
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column; /* O row si prefieres lado a lado */
        align-items: center;
        gap: 0.5em;
    }
    .header-logo {
        max-width: 250px; width: 70%; height: auto; display: block;
        margin: 0; /* Eliminado margen inferior ya que H1 tiene gap */
        /* Perf Note: Añadir width/height intrínsecos al tag <img> */
    }
    .header-title-text {
        /* Visual Note: Estilo para el texto dentro del H1 */
        font-weight: bold;
        /* Podrías ocultarlo visualmente si prefieres que solo el logo sea visible: className="sr-only" */
    }

    .header-subtitle { font-size: 1.2em; max-width: 600px; margin: 0 auto 1.5em auto; opacity: 1; transition: opacity 0.5s; position: relative; z-index: 1; }

    nav { text-align: center; margin: 40px 0 20px 0; display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; position: relative; z-index: 1; }
    /* Visual Note: Efecto hover más moderno (underline) en lugar de bounce */
    nav a { color: #ff6600; text-decoration: none; font-weight: bold; font-size: 1.2em; padding: 10px; position: relative; transition: color 0.3s ease; }
    nav a::after { content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 2px; background-color: #ff8533; transition: width 0.3s ease, left 0.3s ease; }
    nav a:hover { color: #ff8533; }
    nav a:hover::after { width: 100%; left: 0; }
    /* @keyframes bounce eliminado */

    #pulsating-logo {
      position: fixed; top: 15px; left: 15px; width: 100px; height: auto; z-index: 1000;
      /* Perf Note: Animación 'pulsate' usa transform y opacity (eficiente). width/height se definen, pero añadir al <img> también */
      animation: pulsate 1.5s ease-in-out infinite; will-change: transform, opacity;
    }
    @keyframes pulsate { 0% { transform: scale(1); opacity: 0.9; } 50% { transform: scale(1.1); opacity: 1; } 100% { transform: scale(1); opacity: 0.9; } }

    /* SEO/Access Note: Contenido principal envuelto en <main> */
    main { display: block; /* Asegura que <main> se comporte como bloque */}

    section { max-width: 1000px; margin: auto; padding: 40px 20px; }
    h2 { color: #ff6600; text-align: center; margin-bottom: 30px; font-size: 2em; }

    .services { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; }
    .service {
      position: relative; background-size: cover; background-position: center; border-radius: 10px; overflow: hidden;
      padding: 20px; text-align: center; height: 300px; display: flex; flex-direction: column; justify-content: flex-end;
      background-repeat: no-repeat; color: white;
      transition: transform 0.3s ease; /* Visual Note: Sutil efecto hover */
    }
    .service:hover { transform: scale(1.03); }
    .service::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, rgba(0,0,0,0) 50%, rgba(0,0,0,0.8) 100%); border-radius: 10px; z-index: 1; }
    .service h3, .service p { background-color: transparent; margin: 0 0 5px 0; padding: 5px 10px; position: relative; z-index: 2; color: white; text-shadow: 1px 1px 3px rgba(0,0,0,0.7); opacity: 0.4; transition: opacity 0.3s ease, text-shadow 0.3s ease; }
    .service h3 { font-size: 1.3em; margin-bottom: 10px; }
    .service:hover h3, .service:hover p { opacity: 1; text-shadow: 1px 1px 1px rgba(0,0,0,0.9); }
    /* Perf Note: Imágenes de fondo (carteleras.jpg, etc.) deben estar optimizadas */

    .carousel { position: relative; overflow: hidden; max-width: 600px; margin: 40px auto; border-radius: 10px; }
    .carousel-track { display: flex; transition: transform 0.5s ease-in-out; }
    /* MODIFICACIÓN CSS: Aplicar a img Y video */
    .carousel-track img,
    .carousel-track video {
        width: 100%; height: auto; /* Perf Note: height:auto si width es 100% */
        flex-shrink: 0; display: block; /* Evita espacio extra debajo */
        /* Visual Note: Sutil efecto al hacer hover sobre la imagen/poster */
        transition: transform 0.3s ease;
        /* Access Note: Ensures video fits container like images */
        object-fit: cover; /* Optional: Ensure video covers area if aspect ratio differs */
    }
    .carousel-track img:hover,
    .carousel-track video:hover { /* Aplica hover a ambos */
        transform: scale(1.02);
    }
    /* FIN MODIFICACIÓN CSS */
    .carousel-button {
        position: absolute; top: 50%; transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.5); color: white; border: none; padding: 8px 12px; cursor: pointer; border-radius: 50%; font-size: 1.2rem; line-height: 1; z-index: 10; opacity: 0.7; transition: opacity 0.3s ease, background-color 0.3s ease;
        display: none; /* Ocultos por defecto, mostrados por JS si hay > 1 slide */
    }
    .carousel.has-controls .carousel-button { display: block; } /* Mostrados por JS */
    .carousel:hover .carousel-button { opacity: 0.9; } /* Más visibles al hacer hover en el carrusel */
    .carousel-button:hover { opacity: 1; background-color: rgba(0, 0, 0, 0.8); }
    .carousel-button.prev { left: 15px; }
    .carousel-button.next { right: 15px; }
    /* Visual/Access Note: Asegurar que los botones sean visibles/usables en táctil */
    @media (hover: none) and (pointer: coarse) {
      .carousel.has-controls .carousel-button {
        opacity: 0.7; /* Hacerlos visibles permanentemente en táctil */
        /* Considerar hacerlos un poco más grandes para facilitar el toque */
         /* padding: 12px 16px; font-size: 1.5rem; */
      }
    }

    /* --- Estilos para Logo Marquee --- */
    #logo-strip {
        padding: 25px 0; /* Visual Note: Aumentado un poco el padding */
        /* Visual Note: Fondo gris oscuro para diferenciar la sección */
        background-color: #111;
        overflow: hidden;
        width: 100%;
        box-sizing: border-box;
    }
    .logo-marquee-container {
        width: 100%;
        overflow: hidden;
        -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
    }
    .logo-marquee-track {
        display: flex;
        align-items: center;
        width: fit-content; /* Ajusta automáticamente al contenido */
        animation: scrollLogos 40s linear infinite;
        will-change: transform; /* Perf Note: Optimización para animación */
    }
    #logo-strip:hover .logo-marquee-track {
        animation-play-state: paused;
    }
    .partner-logo {
        height: 80px; /* Altura móvil */
        width: auto;
        margin: 0 40px;
        flex-shrink: 0;
        opacity: 0.7;
        filter: grayscale(80%);
        transition: opacity 0.3s ease, filter 0.3s ease;
        /* Perf Note: Añadir width/height intrínsecos al tag <img> */
    }
    .partner-logo:hover {
        opacity: 1;
        filter: grayscale(0%);
    }
    @keyframes scrollLogos {
        0% { transform: translateX(0%); }
        100% { transform: translateX(-50%); } /* Se detiene a la mitad para ciclo infinito */
    }
    /* --- FIN: Estilos para Logo Marquee --- */

    .contact-form { max-width: 400px; margin: auto; display: flex; flex-direction: column; gap: 15px; }
    .contact-form label { /* Access Note: Estilos para label (usaremos sr-only) */
        /* display: block; margin-bottom: 5px; font-weight: bold; */
    }
    .contact-form input, .contact-form textarea {
        padding: 12px; /* Visual Note: Aumentado padding */
        border: 1px solid #2a2a2a; /* Visual Note: Borde sutil */
        border-radius: 5px; background: #2a2a2a; color: #fff;
        transition: box-shadow 0.3s ease, border-color 0.3s ease; /* Visual Note: Transición para focus */
    }
    /* Access/Visual Note: Estilo de foco para mejorar visibilidad */
    .contact-form input:focus, .contact-form textarea:focus {
        outline: none;
        border-color: #ff6600;
        box-shadow: 0 0 0 3px rgba(255, 102, 0, 0.3);
    }
    .contact-form button {
        background: #ff6600; padding: 15px; /* Visual Note: Aumentado padding */
        border: none; border-radius: 5px; font-weight: bold; cursor: pointer;
        color: #fff; font-size: 1em;
        transition: background-color 0.3s ease;
    }
    .contact-form button:hover { background: #ff8533; }

    /* --- Estilos Footer --- */
    footer { text-align: center; padding: 40px 20px; background: #1c1c1c;
        /* Access Note: Color de texto aclarado para mejor contraste */
        color: #888;
    }
    footer p { margin: 8px 0; /* Visual Note: Espaciado ajustado */ }
    footer a img { vertical-align: middle; opacity: 0.7; transition: opacity 0.3s ease;}
    footer a:hover img { opacity: 1; }
    /* --- Fin Estilos Footer --- */

    /* --- Animaciones de entrada --- */
    /* Perf Note: Usando opacity y transform (eficiente). 'visible' añadido por JS */
    .reveal { opacity: 0; transform: translateY(20px); transition: opacity 1s ease, transform 1s ease; will-change: opacity, transform; }
    .reveal.visible { opacity: 1; transform: none; }
    .fade-in { opacity: 0; transition: opacity 2s ease; will-change: opacity; }
    .fade-in.visible { opacity: 1; }
    /* Animación para subtítulo del header */
    @keyframes fadeInRise { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    /* --- Media Queries para Responsividad --- */
    @media (max-width: 600px) {
        /* Visual Note: Reducir padding del header en móviles */
        header { padding-top: 60px; padding-bottom: 60px; min-height: 50vh; }
        header h1 { font-size: 1.3rem; }
        .header-logo { max-width: 200px; width: 60%; }
        .header-subtitle { font-size: 1.1em; }
        nav { gap: 15px; margin-top: 30px; }
        nav a { font-size: 1.1em; }
        h2 { font-size: 1.8em; }
        #pulsating-logo { width: 80px; }
         /* Visual Note: Podría ajustar tamaño de texto en tarjetas de servicio si es necesario */
         /* .service h3 { font-size: 1.1em; } */
         /* .service p { font-size: 0.9em; } */
    }

    @media (min-width: 992px) {
      header { min-height: 85vh; } /* Restaurar o ajustar altura para desktop */
      header::before { background-position: center 35%; } /* Ajuste fino de la imagen de fondo */
      .header-logo { max-width: 350px; width: auto; /* Tamaño original para desktop */ }
      header h1 { font-size: 1.8rem; gap: 1em; } /* Ajustar tamaño de fuente y gap en H1 desktop */
      .header-subtitle { animation: fadeInRise 1.2s ease-out 0.3s forwards; } /* Animación solo en desktop */
      #pulsating-logo { width: 150px; top: 20px; left: 20px; }
       .partner-logo {
           height: 100px; /* Altura desktop */
           margin: 0 60px;
       }
    }
  </style>
</head>
<body>

<!-- Perf Note: Añadir width/height intrínsecos. Optimizar la imagen. -->
<img src="images/representacion-burbuja.png" alt="Logo animado KREO IA Studio" id="pulsating-logo" width="150" height="150">

<header>
  <!-- SEO/Access Note: H1 ahora incluye texto descriptivo junto al logo -->
  <h1>
    <!-- Perf Note: Añadir width/height intrínsecos. Optimizar LogoR.png -->
    <img src="LogoR.png" alt="KREO IA Studio Logo" class="header-logo" width="350" height="100"> <!-- Ajusta w/h a los reales -->
    <span class="header-title-text">KREO IA Studio – Creatividad Humano-IA</span>
  </h1>
  <p class="header-subtitle">Innovación a través de la unión del ingenio humano y la creatividad de la Inteligencia Artificial.</p>
  <nav>
    <a href="#quienes-somos">¿Quiénes Somos?</a>
    <a href="#servicios">Servicios</a>
    <a href="#portfolio">Portafolio</a>
    <a href="#contacto">Contacto</a>
  </nav>
</header>

<!-- SEO/Access Note: Contenido principal envuelto en <main> -->
<main>

  <section id="quienes-somos" class="reveal fade-in">
    <h2>¿Quiénes Somos?</h2>
    <p>KREO IA Studio nace del amor entre la inteligencia artificial y el ser humano. Creemos en la colaboración armoniosa entre la creatividad humana y la potencia de la IA, dando lugar a proyectos únicos y llenos de innovación. Cada proyecto es un acto de amor a la creación.</p>
  </section>

  <section id="servicios" class="reveal">
    <h2>Servicios</h2>
    <div class="services">
      <!-- Perf Note: Optimizar imágenes de fondo (carteleras.jpg, etc.) -->
      <div class="service" style="background-image: url('images/carteleras.jpg');"><h3>Carteleras Cinematográficas</h3><p>Historias visuales que capturan miradas y emociones.</p></div>
      <div class="service" style="background-image: url('images/satiras.jpg');"><h3>Sátiras Políticas</h3><p>Ironía elegante y crítica inteligente.</p></div>
      <div class="service" style="background-image: url('images/memes.jpg');"><h3>Memes Realistas</h3><p>Humor visualmente impecable.</p></div>
      <div class="service" style="background-image: url('images/storytelling.jpg');"><h3>Storytelling para Marcas</h3><p>Relatos visuales que enamoran y venden.</p></div>
    </div>
  </section>

  <section id="portfolio" class="reveal">
    <h2>Portafolio</h2>
    <div class="carousel">
      <div class="carousel-track">
        <!-- Perf Note: Aplicar lazy loading y añadir width/height reales. Optimizar imágenes. -->
        <!-- Access Note: Mejorar alt text para describir la imagen específica si es posible -->
        <img src="images/img1.jpg" alt="Ejemplo de proyecto KREO IA Studio 1" width="600" height="400" loading="lazy">
        <img src="images/img2.jpg" alt="Ejemplo de proyecto KREO IA Studio 2" width="600" height="400" loading="lazy">
        <img src="images/img3.jpg" alt="Ejemplo de proyecto KREO IA Studio 3" width="600" height="400" loading="lazy">
        <img src="images/img4.jpg" alt="Ejemplo de proyecto KREO IA Studio 4" width="600" height="400" loading="lazy">
        <img src="images/img5.jpg" alt="Ejemplo de proyecto KREO IA Studio 5" width="600" height="400" loading="lazy">
        <img src="images/img6.jpg" alt="Ejemplo de proyecto KREO IA Studio 6" width="600" height="400" loading="lazy">
        <!-- MODIFICACIÓN HTML: Cambiado img por video -->
        <video controls preload="metadata" poster="images/img7.jpg" width="600" height="400" loading="lazy" aria-label="Ejemplo de proyecto KREO IA Studio 7 (Video)">
            <source src="videos/vid7.mp4" type="video/mp4">
            Tu navegador no soporta la etiqueta de video. <!-- Fallback text -->
        </video>
        <!-- FIN MODIFICACIÓN HTML -->
        <img src="images/img8.jpg" alt="Ejemplo de proyecto KREO IA Studio 8" width="600" height="400" loading="lazy">
        <img src="images/img9.jpg" alt="Ejemplo de proyecto KREO IA Studio 9" width="600" height="400" loading="lazy">
        <!-- Perf Note: Considerar usar <picture> para formatos WebP/AVIF con fallback a JPG -->
      </div>
      <button class="carousel-button prev" aria-label="Anterior">❮</button> <!-- Usar entidad HTML para flecha -->
      <button class="carousel-button next" aria-label="Siguiente">❯</button> <!-- Usar entidad HTML para flecha -->
    </div>
  </section>

  <!-- Access Note: aria-labelledby apunta a un H2 oculto visualmente para describir la sección -->
  <section id="logo-strip" aria-labelledby="partners-heading">
    <!-- Access Note: Título H2 para la sección de logos, oculto visualmente -->
    <h2 id="partners-heading" class="sr-only">Nuestros Partners y Clientes</h2>
    <div class="logo-marquee-container">
        <div class="logo-marquee-track">
            <!-- Perf Note: Aplicar lazy loading y añadir width/height reales. Optimizar logos PNG. -->
            <!-- Access Note: Mejorar alt text con nombre real del cliente/partner -->
            <img src="images/Logo-Cliente-1.png" alt="Logo Cliente 1" class="partner-logo" width="150" height="100" loading="lazy">
            <img src="images/Logo-Cliente-2.png" alt="Logo Cliente 2" class="partner-logo" width="150" height="100" loading="lazy">
            <img src="images/Logo-Cliente-3.png" alt="Logo Cliente 3" class="partner-logo" width="150" height="100" loading="lazy">
            <img src="images/Logo-Cliente-4.png" alt="Logo Cliente 4" class="partner-logo" width="150" height="100" loading="lazy">
            <img src="images/Logo-Cliente-5.png" alt="Logo Cliente 5" class="partner-logo" width="150" height="100" loading="lazy">
            <img src="images/Logo-Cliente-6.png" alt="Logo Cliente 6" class="partner-logo" width="150" height="100" loading="lazy">
            <!-- Copia para el bucle infinito -->
            <img src="images/Logo-Cliente-1.png" alt="Logo Cliente 1" class="partner-logo" width="150" height="100" loading="lazy" aria-hidden="true"> <!-- aria-hidden en copias -->
            <img src="images/Logo-Cliente-2.png" alt="Logo Cliente 2" class="partner-logo" width="150" height="100" loading="lazy" aria-hidden="true">
            <img src="images/Logo-Cliente-3.png" alt="Logo Cliente 3" class="partner-logo" width="150" height="100" loading="lazy" aria-hidden="true">
            <img src="images/Logo-Cliente-4.png" alt="Logo Cliente 4" class="partner-logo" width="150" height="100" loading="lazy" aria-hidden="true">
            <img src="images/Logo-Cliente-5.png" alt="Logo Cliente 5" class="partner-logo" width="150" height="100" loading="lazy" aria-hidden="true">
            <img src="images/Logo-Cliente-6.png" alt="Logo Cliente 6" class="partner-logo" width="150" height="100" loading="lazy" aria-hidden="true">
        </div>
    </div>
  </section>

  <section id="contacto" class="reveal">
    <h2>Contacto</h2>
    <form class="contact-form" action="https://formspree.io/f/mkgronyd" method="POST">
      <!-- Access Note: Añadido <label> (oculto visualmente) asociado con 'for' e 'id' -->
      <label for="name" class="sr-only">Tu Nombre</label>
      <input type="text" id="name" name="name" placeholder="Tu Nombre" required>

      <!-- Access Note: Añadido <label> (oculto visualmente) asociado con 'for' e 'id' -->
      <label for="email" class="sr-only">Tu Correo</label>
      <input type="email" id="email" name="email" placeholder="Tu Correo" required>

      <!-- Access Note: Añadido <label> (oculto visualmente) asociado con 'for' e 'id' -->
      <label for="message" class="sr-only">Tu Mensaje</label>
      <textarea id="message" name="message" rows="5" placeholder="Tu Mensaje" required></textarea>

      <button type="submit">Enviar Mensaje</button>
    </form>
  </section>

</main> <!-- Fin del contenido principal -->

<footer>
  <p>KREO IA Studio © 2025 | Todos los derechos reservados</p>
  <p>Ficción IA: arte, sátira y humor. Parecido a la realidad es coincidencia.</p>
  <p>Visítanos en Tiktok:</p>
  <a href="https://www.tiktok.com/@kreo_ai_studio" target="_blank" rel="noopener noreferrer" aria-label="Visita nuestro perfil de TikTok">
    <!-- Perf Note: Optimizar icono, añadir width/height -->
    <img src="images/tiktok-icon.png" alt="TikTok" width="24" height="24">
  </a>
</footer>

<script>
// Perf Note: Considerar minificar este JS en producción.
// El JS está al final del body, lo cual es bueno (similar a defer).
// Si se añaden scripts externos, usar async o defer.
document.addEventListener('DOMContentLoaded', () => {

  // --- Efecto Tilt del Header ---
  const header = document.querySelector('header');
  if (header) {
    const maxTilt = 8; // Máxima inclinación
    // Perf Note: Esta animación es relativamente ligera (usa transform).
    // No se activa en táctil (mousemove no existe), lo cual es bueno.
    header.addEventListener('mousemove', (e) => {
      // Optimización: Solo calcular si no es un dispositivo táctil (evita trabajo innecesario)
      if (e.pointerType === 'mouse') {
          const rect = header.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          const width = header.offsetWidth;
          const height = header.offsetHeight;
          // Normalizar coordenadas (-0.5 a 0.5)
          const normX = (x / width) - 0.5;
          const normY = (y / height) - 0.5;
          // Calcular inclinación
          const tiltY = normX * maxTilt;
          const tiltX = -normY * maxTilt;
          // Aplicar con CSS variables (eficiente)
          header.style.setProperty('--header-tilt-x', `${tiltX}deg`);
          header.style.setProperty('--header-tilt-y', `${tiltY}deg`);
      }
    });
    header.addEventListener('mouseleave', () => {
      // Resetear inclinación al salir
      header.style.setProperty('--header-tilt-x', '0deg');
      header.style.setProperty('--header-tilt-y', '0deg');
    });
  }

  // --- Lógica del Carrusel ---
  const carousel = document.querySelector('.carousel');
  if (carousel) { // Verificar que el carrusel exista
      const track = carousel.querySelector('.carousel-track');
      const prevButton = carousel.querySelector('.carousel-button.prev');
      const nextButton = carousel.querySelector('.carousel-button.next');

      // MODIFICACIÓN JS: Obtener también los videos
      const videoSlides = track.querySelectorAll('video');
      // FIN MODIFICACIÓN JS

      if (track && prevButton && nextButton) {
          const slides = Array.from(track.children);
          let slideWidth = 0; // Se calculará dinámicamente
          let currentIndex = 0;
          let autoPlayInterval = null;
          const autoPlayDelay = 4000; // Aumentado ligeramente el delay

          function updateSlideWidth() {
              if (slides.length > 0) {
                  const newSlideWidth = slides[0].getBoundingClientRect().width;
                  if (newSlideWidth > 0) {
                      slideWidth = newSlideWidth;
                      // Mover al slide actual sin transición para recalcular posición
                      track.style.transition = 'none';
                      moveToSlide(currentIndex);
                      // Forzar reflow para aplicar el cambio inmediatamente
                      void track.offsetWidth;
                      // Restaurar transición
                      track.style.transition = 'transform 0.5s ease-in-out';
                  }
              }
          }

          function moveToSlide(index) {
              if (slideWidth <= 0 || slides.length === 0) return;

              // --- MODIFICACIÓN JS: Pausar video saliente ---
              const currentSlideElement = slides[currentIndex];
              // Verificar si el elemento actual es un VIDEO antes de intentar pausarlo
              if (currentSlideElement && typeof currentSlideElement.pause === 'function') {
                 try {
                    currentSlideElement.pause();
                 } catch (error) {
                    console.warn("No se pudo pausar el slide saliente:", error);
                 }
              }
              // --- FIN MODIFICACIÓN JS ---

              // Asegurarse que el índice está dentro de los límites
              const newIndex = Math.max(0, Math.min(index, slides.length - 1));
              track.style.transform = 'translateX(-' + slideWidth * newIndex + 'px)';
              currentIndex = newIndex;
          }

          function showPrevSlide() {
              stopAutoPlay(); // Detener autoplay al interactuar manualmente
              const prevIndex = currentIndex === 0 ? slides.length - 1 : currentIndex - 1;
              moveToSlide(prevIndex);
              // No reiniciar autoplay automáticamente aquí, dejar que los listeners de pausa/mouseleave lo manejen
          }

          function showNextSlide() {
              stopAutoPlay();
              const nextIndex = currentIndex === slides.length - 1 ? 0 : currentIndex + 1;
              moveToSlide(nextIndex);
              // No reiniciar autoplay automáticamente aquí
          }

          function startAutoPlay() {
              stopAutoPlay(); // Limpiar cualquier intervalo existente
              if (slides.length > 1) { // Solo iniciar si hay más de un slide
                  autoPlayInterval = setInterval(showNextSlide, autoPlayDelay);
              }
          }

          function stopAutoPlay() {
              clearInterval(autoPlayInterval);
              autoPlayInterval = null;
          }

          // Inicialización
          if (slides.length > 1) {
              carousel.classList.add('has-controls'); // Añadir clase para mostrar botones vía CSS
              prevButton.addEventListener('click', showPrevSlide);
              nextButton.addEventListener('click', showNextSlide);

              // Pausar autoplay al pasar el ratón por encima
              carousel.addEventListener('mouseenter', stopAutoPlay);
              // MODIFICACIÓN JS: Reanudar SÓLO si no hay un video reproduciéndose
              carousel.addEventListener('mouseleave', () => {
                  const currentSlideElement = slides[currentIndex];
                   // Verificar si el elemento actual es un video Y si está pausado
                  if (currentSlideElement && typeof currentSlideElement.pause === 'function' && currentSlideElement.paused) {
                      startAutoPlay(); // Reanudar si es video pero está pausado
                  } else if (!currentSlideElement || typeof currentSlideElement.pause !== 'function') {
                      startAutoPlay(); // Reanudar si no es un video
                  }
              });

              // --- MODIFICACIÓN JS: Manejar reproducción/pausa de videos ---
              videoSlides.forEach(video => {
                  // Detener autoplay si un video empieza a reproducirse
                  video.addEventListener('play', () => {
                      stopAutoPlay();
                  });

                  // Intentar reanudar autoplay si un video se pausa Y el mouse está fuera
                   video.addEventListener('pause', () => {
                      // Reanudar sólo si el mouse está fuera Y el video está realmente pausado
                      if (!carousel.matches(':hover') && video.paused) {
                          startAutoPlay();
                      }
                   });

                  // Opcional: Reanudar al terminar (puede ser molesto, comentado)
                  // video.addEventListener('ended', () => {
                  //    if (!carousel.matches(':hover')) { startAutoPlay(); }
                  // });
              });
              // --- FIN MODIFICACIÓN JS ---

              // Iniciar autoplay inicial (si el primer slide no es un video que se reproduzca solo)
              startAutoPlay();
          } else {
              // Si solo hay 1 slide, quitar controles
              carousel.classList.remove('has-controls');
          }

          // Recalcular ancho al redimensionar ventana (con debounce)
          let resizeTimer;
          window.addEventListener('resize', () => {
              clearTimeout(resizeTimer);
              resizeTimer = setTimeout(updateSlideWidth, 150);
          });

          // Calcular ancho inicial después de que la página/imágenes carguen
          // 'load' es más seguro que 'DOMContentLoaded' si las dimensiones dependen de imágenes/video
          window.addEventListener('load', updateSlideWidth);
          // Llamada inicial por si 'load' ya ocurrió
          if (document.readyState === 'complete') {
            updateSlideWidth();
          }

      } else {
          console.warn("Elementos del carrusel no encontrados (track o botones).");
      }
  }

  // --- Animaciones de Revelación al Scroll ---
  const revealElements = document.querySelectorAll('.reveal');
  const fadeInElements = document.querySelectorAll('.fade-in');

  if ('IntersectionObserver' in window) { // Verificar soporte del navegador
      const observerOptions = {
          root: null, // Relativo al viewport
          threshold: 0.1 // Activar cuando el 10% del elemento sea visible
      };

      const observerCallback = (entries, observer) => {
          entries.forEach(entry => {
              if (entry.isIntersecting) {
                  entry.target.classList.add('visible');
                  // Opcional: Dejar de observar una vez que es visible para mejorar performance
                  // observer.unobserve(entry.target);
              }
              // Opcional: Para re-animar si sale y vuelve a entrar
              // else { entry.target.classList.remove('visible'); }
          });
      };

      const observer = new IntersectionObserver(observerCallback, observerOptions);

      revealElements.forEach(el => observer.observe(el));
      fadeInElements.forEach(el => observer.observe(el));

  } else {
      // Fallback para navegadores sin IntersectionObserver (hacerlos visibles directamente)
      console.warn("IntersectionObserver no soportado. Las animaciones de scroll no se activarán dinámicamente.");
      revealElements.forEach(el => el.classList.add('visible'));
      fadeInElements.forEach(el => el.classList.add('visible'));
  }

});
// Perf Note: Recordatorio final - Usar herramientas como Lighthouse/PageSpeed Insights para identificar más cuellos de botella.
// Considerar habilitar compresión GZIP/Brotli y cacheo en el servidor (Netlify suele hacerlo automáticamente).
</script>

</body>
</html>